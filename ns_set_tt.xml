<TaskerData sr="" dvi="1" tv="6.2.22">
	<Task sr="task51">
		<cdate>1571735881922</cdate>
		<edate>1714399749175</edate>
		<id>51</id>
		<nme>ns_set_tt</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>%+</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>523</code>
			<Str sr="arg0" ve="3">Error: NS-Set-TT Called without Parameter</Str>
			<Str sr="arg1" ve="3">Error: NS-Set-TT called without parameter for new TT. Aborting.</Str>
			<Str sr="arg10" ve="3"/>
			<Str sr="arg11" ve="3"/>
			<Img sr="arg2" ve="2"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
		</Action>
		<Action sr="act10" ve="7">
			<code>590</code>
			<Str sr="arg0" ve="3">%par2</Str>
			<Str sr="arg1" ve="3">,</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
		</Action>
		<Action sr="act11" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%duration</Str>
			<Str sr="arg1" ve="3">%par2(1)</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act12" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par2(#)</lhs>
					<op>7</op>
					<rhs>1</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act13" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%override_current_high_tt</Str>
			<Str sr="arg1" ve="3">%par2(2)</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act14" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act15" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act16" ve="7">
			<code>548</code>
			<on>false</on>
			<Str sr="arg0" ve="3">TT: %requested_tt. Dur: %duration. 
OR: %override_current_high_tt.</Str>
			<Int sr="arg1" val="0"/>
			<Str sr="arg10" ve="3"/>
			<Int sr="arg11" val="1"/>
			<Int sr="arg12" val="0"/>
			<Str sr="arg13" ve="3"/>
			<Int sr="arg14" val="0"/>
			<Str sr="arg15" ve="3"/>
			<Int sr="arg2" val="0"/>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Str sr="arg5" ve="3"/>
			<Str sr="arg6" ve="3"/>
			<Str sr="arg7" ve="3"/>
			<Str sr="arg8" ve="3"/>
			<Int sr="arg9" val="1"/>
		</Action>
		<Action sr="act17" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<bool0>And</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%duration</lhs>
					<op>7</op>
					<rhs>5</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%duration</lhs>
					<op>6</op>
					<rhs>200</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act18" ve="7">
			<code>548</code>
			<on>false</on>
			<Str sr="arg0" ve="3">Duration is specified ok.</Str>
			<Int sr="arg1" val="0"/>
			<Str sr="arg10" ve="3"/>
			<Int sr="arg11" val="1"/>
			<Int sr="arg12" val="0"/>
			<Str sr="arg13" ve="3"/>
			<Int sr="arg14" val="0"/>
			<Str sr="arg15" ve="3"/>
			<Int sr="arg2" val="0"/>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Str sr="arg5" ve="3"/>
			<Str sr="arg6" ve="3"/>
			<Str sr="arg7" ve="3"/>
			<Str sr="arg8" ve="3"/>
			<Int sr="arg9" val="1"/>
		</Action>
		<Action sr="act19" ve="7">
			<code>43</code>
		</Action>
		<Action sr="act2" ve="7">
			<code>126</code>
			<Str sr="arg0" ve="3">error</Str>
			<Int sr="arg1" val="1"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Str sr="arg4" ve="3"/>
		</Action>
		<Action sr="act20" ve="7">
			<code>523</code>
			<Str sr="arg0" ve="3">ns_set_tt Called with incorrect duration</Str>
			<Str sr="arg1" ve="3">Error: ns_set_tt called with incorrect duration: "%duration". Aborting.</Str>
			<Str sr="arg10" ve="3"/>
			<Str sr="arg11" ve="3"/>
			<Img sr="arg2" ve="2"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
		</Action>
		<Action sr="act21" ve="7">
			<code>126</code>
			<Str sr="arg0" ve="3">error</Str>
			<Int sr="arg1" val="1"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Str sr="arg4" ve="3"/>
		</Action>
		<Action sr="act22" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act23" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%current_target</Str>
			<Str sr="arg1" ve="3">-1.0</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act24" ve="7">
			<code>39</code>
			<Str sr="arg0" ve="3">%try</Str>
			<Str sr="arg1" ve="3">1:5</Str>
			<Int sr="arg2" val="1"/>
		</Action>
		<Action sr="act25" ve="7">
			<code>339</code>
			<Bundle sr="arg0">
				<Vals sr="val">
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES>&lt;StringArray sr=""&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;%http_cookies
Cookies
The cookies the server sent in the response in the Cookie:COOKIE_VALUE format. You can use this directly in the 'Headers' field of the HTTP Request action&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;%http_data
Data
Data that the server responded from the HTTP request.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;%http_file_output
File Output
Will always contain the file's full path even if you specified a directory as the File to save.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;%http_response_code
Response Code
The HTTP Code the server responded&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;%http_headers()
Response Headers
The HTTP Headers the server sent in the response. Each header is in the 'key:value' format&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;%http_response_length
Response Length
The size of the response in bytes&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;&lt;/StringArray&gt;</net.dinglisch.android.tasker.RELEVANT_VARIABLES>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>[Ljava.lang.String;</net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>
				</Vals>
			</Bundle>
			<Int sr="arg1" val="0"/>
			<Int sr="arg10" val="0"/>
			<Int sr="arg11" val="0"/>
			<Int sr="arg12" val="1"/>
			<Str sr="arg2" ve="3">https://NS_SITE/api/v1/devicestatus.json?secret=NS_SECRET&amp;count=1</Str>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Str sr="arg5" ve="3"/>
			<Str sr="arg6" ve="3"/>
			<Str sr="arg7" ve="3"/>
			<Int sr="arg8" val="30"/>
			<Int sr="arg9" val="0"/>
		</Action>
		<Action sr="act26" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">var parsed = JSON.parse(http_data); current_target = parsed[0].openaps.suggested.targetBG;</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Action sr="act27" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%current_target</lhs>
					<op>9</op>
					<rhs>-1.0</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act28" ve="7">
			<code>548</code>
			<on>false</on>
			<Str sr="arg0" ve="3">Target: %current_target. Ending loop.</Str>
			<Int sr="arg1" val="0"/>
			<Str sr="arg10" ve="3"/>
			<Int sr="arg11" val="1"/>
			<Int sr="arg12" val="0"/>
			<Str sr="arg13" ve="3"/>
			<Int sr="arg14" val="0"/>
			<Str sr="arg15" ve="3"/>
			<Int sr="arg2" val="0"/>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Str sr="arg5" ve="3"/>
			<Str sr="arg6" ve="3"/>
			<Str sr="arg7" ve="3"/>
			<Str sr="arg8" ve="3"/>
			<Int sr="arg9" val="1"/>
		</Action>
		<Action sr="act29" ve="7">
			<code>135</code>
			<Int sr="arg0" val="3"/>
			<Int sr="arg1" val="1"/>
			<Str sr="arg2" ve="3"/>
		</Action>
		<Action sr="act3" ve="7">
			<code>43</code>
		</Action>
		<Action sr="act30" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act31" ve="7">
			<code>30</code>
			<Int sr="arg0" val="0"/>
			<Int sr="arg1" val="5"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
		</Action>
		<Action sr="act32" ve="7">
			<code>40</code>
		</Action>
		<Action sr="act33" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%current_target</lhs>
					<op>8</op>
					<rhs>-1.0</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act34" ve="7">
			<code>523</code>
			<Str sr="arg0" ve="3">Setting TT</Str>
			<Str sr="arg1" ve="3">Attempted to set TT, but was unable to detect current TT. Aborting after 5 retries.

Response: 
%http_data</Str>
			<Str sr="arg10" ve="3"/>
			<Str sr="arg11" ve="3"/>
			<Img sr="arg2" ve="2"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
		</Action>
		<Action sr="act35" ve="7">
			<code>43</code>
			<ConditionList sr="if">
				<bool0>And</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%current_target</lhs>
					<op>7</op>
					<rhs>99</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%override_current_high_tt</lhs>
					<op>1</op>
					<rhs>true</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act36" ve="7">
			<code>523</code>
			<on>false</on>
			<Str sr="arg0" ve="3">Setting TT</Str>
			<Str sr="arg1" ve="3">Attempted to set TT, but current (high) TT is set and override_high_tt was not set. Aborting.</Str>
			<Str sr="arg10" ve="3"/>
			<Str sr="arg11" ve="3"/>
			<Img sr="arg2" ve="2"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
		</Action>
		<Action sr="act37" ve="7">
			<code>43</code>
		</Action>
		<Action sr="act38" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%target_top</Str>
			<Str sr="arg1" ve="3">-10</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act39" ve="7">
			<code>39</code>
			<Str sr="arg0" ve="3">%retry</Str>
			<Str sr="arg1" ve="3">1:5</Str>
			<Int sr="arg2" val="1"/>
		</Action>
		<Action sr="act4" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%requested_tt</Str>
			<Str sr="arg1" ve="3">%par1</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act40" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%target_bottom</Str>
			<Str sr="arg1" ve="3">-10</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act41" ve="7">
			<code>339</code>
			<Bundle sr="arg0">
				<Vals sr="val">
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES>&lt;StringArray sr=""&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;%http_cookies
Cookies
The cookies the server sent in the response in the Cookie:COOKIE_VALUE format. You can use this directly in the 'Headers' field of the HTTP Request action&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;%http_data
Data
Data that the server responded from the HTTP request.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;%http_file_output
File Output
Will always contain the file's full path even if you specified a directory as the File to save.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;%http_response_code
Response Code
The HTTP Code the server responded&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;%http_headers()
Response Headers
The HTTP Headers the server sent in the response. Each header is in the 'key:value' format&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;%http_response_length
Response Length
The size of the response in bytes&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;&lt;/StringArray&gt;</net.dinglisch.android.tasker.RELEVANT_VARIABLES>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>[Ljava.lang.String;</net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>
				</Vals>
			</Bundle>
			<Int sr="arg1" val="1"/>
			<Int sr="arg10" val="0"/>
			<Int sr="arg11" val="0"/>
			<Int sr="arg12" val="0"/>
			<Str sr="arg2" ve="3">https://NS_SITE/api/v1/treatments.json</Str>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Str sr="arg5" ve="3">{"enteredBy": "Tasker notification", "eventType": "Temporary Target", "duration": "%duration", "reason": "Noise detected", "targetTop": "100", "targetBottom": "100",  "secret": "46e0dbb7caa918331a50e5dc99707ddbcc8ffe6b"}</Str>
			<Str sr="arg6" ve="3"/>
			<Str sr="arg7" ve="3"/>
			<Int sr="arg8" val="30"/>
			<Int sr="arg9" val="0"/>
		</Action>
		<Action sr="act42" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">var parsed = JSON.parse(http_data); target_top = parsed[0].targetTop;
target_bottom = parsed[0].targetBottom;</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Action sr="act43" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<bool0>And</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%target_top</lhs>
					<op>8</op>
					<rhs>100</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%target_bottom</lhs>
					<op>8</op>
					<rhs>100</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act44" ve="7">
			<code>523</code>
			<on>false</on>
			<Str sr="arg0" ve="3">Setting TT</Str>
			<Str sr="arg1" ve="3">Setting TT successful. TT: %requested_tt. Duration: %duration.</Str>
			<Str sr="arg10" ve="3"/>
			<Str sr="arg11" ve="3"/>
			<Img sr="arg2" ve="2"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
		</Action>
		<Action sr="act45" ve="7">
			<code>135</code>
			<Int sr="arg0" val="3"/>
			<Int sr="arg1" val="1"/>
			<Str sr="arg2" ve="3"/>
		</Action>
		<Action sr="act46" ve="7">
			<code>43</code>
		</Action>
		<Action sr="act47" ve="7">
			<code>523</code>
			<Str sr="arg0" ve="3">Setting NS TT Failed</Str>
			<Str sr="arg1" ve="3">Retrying 5 times. Retry: %retry.

Response:

%http_data</Str>
			<Str sr="arg10" ve="3"/>
			<Str sr="arg11" ve="3">User Notification</Str>
			<Img sr="arg2" ve="2"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
		</Action>
		<Action sr="act48" ve="7">
			<code>30</code>
			<Int sr="arg0" val="0"/>
			<Int sr="arg1" val="5"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
		</Action>
		<Action sr="act49" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act5" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act50" ve="7">
			<code>40</code>
		</Action>
		<Action sr="act51" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act6" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%override_current_high_tt</Str>
			<Str sr="arg1" ve="3">false</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act7" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par2</lhs>
					<op>2</op>
					<rhs>%+</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act8" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%duration</Str>
			<Str sr="arg1" ve="3">10</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="1"/>
		</Action>
		<Action sr="act9" ve="7">
			<code>43</code>
		</Action>
	</Task>
</TaskerData>
